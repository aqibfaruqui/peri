peripheral Timer at 0x4000_0000 {
    states: Disabled, Enabled;
    initial: Disabled;
    
    registers u32 {
        CTRL at 0x00;
        COUNT at 0x04;
    }
}

fn enable_timer() :: Timer<Disabled> -> Timer<Enabled> {
    Timer.CTRL = 1;
    return Timer.COUNT;
}

fn main() {
    enable_timer();
}